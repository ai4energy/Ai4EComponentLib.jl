var documenterSearchIndex = {"docs":
[{"location":"tutorials/IncompressiblePipe/#IncompressiblePipe-System","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"","category":"section"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"This page shows 5 examples of IncompressiblePipe System. By default, fluid passing pipes is water.","category":"page"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"Examples finsh 3 steps:","category":"page"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"Define components from IncompressiblePipe\nConnect components\nSolve","category":"page"},{"location":"tutorials/IncompressiblePipe/#Example-1","page":"IncompressiblePipe System","title":"Example 1","text":"","category":"section"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"The height of Pipe1's inlet port is 25m. Actually, this is a trick that makes potential energy of source added to  Pipe1's inlet port. Because the height is a parameter in system instead of a variable so that it can't be passed on between components.","category":"page"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"(Image: 图 1)","category":"page"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"using Ai4EComponentLib.IncompressiblePipe\nusing DifferentialEquations, ModelingToolkit, Test\n\n@named high = Source_P(D=0.15, z=25.0)\n@named low = Sink_P()\n@named elbow1 = ElbowPipe(K=0.9, D=0.15)\n@named elbow2 = ElbowPipe(K=0.9, D=0.15, zin=15.0, zout=15.0)\n@named pipe1 = SimplePipe(L=30.0, D=0.15, f=0.023, zin=25.0, zout=0.0)\n@named pipe2 = SimplePipe(L=15.0, D=0.15, f=0.023, zin=0.0, zout=15.0)\n@named pipe3 = SimplePipe(L=60.0, D=0.15, f=0.023, K_inside=10.8, zin=15.0, zout=15.0)\n\neqs = [\n    connect(high.port, pipe1.in)\n    connect(pipe1.out, elbow1.in)\n    connect(elbow1.out, pipe2.in)\n    connect(pipe2.out, elbow2.in)\n    connect(elbow2.out, pipe3.in)\n    connect(pipe3.out, low.port)\n]\n\n@named model = compose(ODESystem(eqs, t, name=:funs), [high, low, pipe1, pipe2, pipe3, elbow1, elbow2])\n\nsys = structural_simplify(model)\n\nprob = ODEProblem(sys, [], (0.0, 0.0))\n\nsol = solve(prob)\n\nsol[pipe1.in.q]","category":"page"},{"location":"tutorials/IncompressiblePipe/#Example-2","page":"IncompressiblePipe System","title":"Example 2","text":"","category":"section"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"(Image: 图 1)","category":"page"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"using Ai4EComponentLib.IncompressiblePipe\nusing DifferentialEquations, ModelingToolkit, Test\n\n@named high = Source_P(D=1.0, z=100.0, K_inlet=0.0)\n@named low1 = Sink_P()\n@named low2 = Sink_P()\n@named pipe1 = SimplePipe(L=1000.0, D=1.0, f=0.02, zin=100.0, zout=10.0)\n@named pipe2 = SimplePipe(L=500.0, D=1.0, f=0.02, zin=10.0, zout=20.0)\n@named pipe3 = SimplePipe(L=400.0, D=1.0, f=0.02, zin=10.0, zout=0.0)\n\neqs = [\n    connect(high.port, pipe1.in)\n    connect(pipe1.out, pipe3.in, pipe2.in)\n    connect(pipe2.out, low1.port)\n    connect(pipe3.out, low2.port)\n]\n \n@named model = compose(ODESystem(eqs, t, name=:funs), [high, low1, low2, pipe1, pipe2, pipe3])\n\nsys = structural_simplify(model)\n\nprob = ODEProblem(sys, [], (0.0, 0.0))\n\nsol = solve(prob)\n\nres = Dict()\nfor i in [pipe1,pipe2,pipe3]\n  global res[string(i.name) * \" inlet flow:\"] = sol[i.in.q][1]\nend\nres","category":"page"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"In this example, the height of Pipe1's outlet port will not change the result. Let's try 15m.","category":"page"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"@named high = Source_P(D=1.0, z=100.0, K_inlet=0.0)\n@named low1 = Sink_P()\n@named low2 = Sink_P()\n@named pipe1 = SimplePipe(L=1000.0, D=1.0, f=0.02, zin=100.0, zout=15.0)\n@named pipe2 = SimplePipe(L=500.0, D=1.0, f=0.02, zin=15.0, zout=20.0)\n@named pipe3 = SimplePipe(L=400.0, D=1.0, f=0.02, zin=15.0, zout=0.0)\n\neqs = [\n    connect(high.port, pipe1.in)\n    connect(pipe1.out, pipe3.in, pipe2.in)\n    connect(pipe2.out, low1.port)\n    connect(pipe3.out, low2.port)\n]\n \n@named model = compose(ODESystem(eqs, t, name=:funs), [high, low1, low2, pipe1, pipe2, pipe3])\n\nsys = structural_simplify(model)\n\nprob = ODEProblem(sys, [], (0.0, 0.0))\n\nsol = solve(prob)\n\nres = Dict()\nfor i in [pipe1,pipe2,pipe3]\n  global res[string(i.name) * \" inlet flow:\"] = sol[i.in.q][1]\nend\nres","category":"page"},{"location":"tutorials/IncompressiblePipe/#Example-3","page":"IncompressiblePipe System","title":"Example 3","text":"","category":"section"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"Components in Example 3 ~ Example 5 are puted on the same horizontal level.","category":"page"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"(Image: 图 1)","category":"page"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"using Ai4EComponentLib.IncompressiblePipe\nusing DifferentialEquations, ModelingToolkit, Test\n\nsystem = []\n\n@named pumpA = CentrifugalPump();\npush!(system, pumpA);\n@named pumpB = CentrifugalPump();\npush!(system, pumpB);\n@named pumpC = CentrifugalPump();\npush!(system, pumpC);\n\n@named pipe1 = SimplePipe(L=1.0);\npush!(system, pipe1);\n@named pipe2 = SimplePipe(L=10.0);\npush!(system, pipe2);\n@named pipe3 = SimplePipe(L=1.0);\npush!(system, pipe3);\n@named pipe4 = SimplePipe(L=10.0);\npush!(system, pipe4);\n@named pipe5 = SimplePipe(L=5.0);\npush!(system, pipe5);\n@named pipe6 = SimplePipe(L=1.0);\npush!(system, pipe6);\n@named pipe7 = SimplePipe(L=5.0);\npush!(system, pipe7);\n@named pipe8 = SimplePipe(L=1.0);\npush!(system, pipe8);\n@named pipe9 = SimplePipe(L=10.0);\npush!(system, pipe9);\n@named pipe10 = SimplePipe(L=1.0);\npush!(system, pipe10);\n\n@named sink1 = Sink_P(p=1.0E5);\npush!(system, sink1);\n@named sink2 = Sink_P(p=1.0E5);\npush!(system, sink2);\n@named sink3 = Sink_P(p=1.0E5);\npush!(system, sink3);\n@named sink4 = Sink_P(p=1.0E5);\npush!(system, sink4);\n@named sink5 = Sink_P(p=1.0E5);\npush!(system, sink5);\n\n\n\neqs = [\n  connect(sink3.port, pumpA.in)\n  connect(pumpA.out, pipe1.in)\n  connect(pipe1.out, pipe2.in, pipe4.in)\n  connect(pipe2.out, pipe3.out, pipe5.in)\n  connect(sink4.port, pumpB.in)\n  connect(pumpB.out, pipe3.in)\n  connect(pipe5.out, pipe6.in, pipe7.in)\n  connect(pipe6.out, sink1.port)\n  connect(pipe4.out, pipe9.out, pipe8.in)\n  connect(pipe7.out, pipe10.out, pipe9.in)\n  connect(sink5.port, pumpC.in)\n  connect(pipe10.in, pumpC.out)\n  connect(pipe8.out, sink2.port)\n]\n\n@named model = compose(ODESystem(eqs, t, name=:funs), system)\nsys = structural_simplify(model)\nprob = ODEProblem(sys, [], (0, 0.0))\nsol = solve(prob)\n\nres = Dict()\nfor i in system[4:end-5]\n  global res[string(i.name) * \" inlet flow:\"] = sol[i.in.q][1]\nend\nres","category":"page"},{"location":"tutorials/IncompressiblePipe/#Example-4","page":"IncompressiblePipe System","title":"Example 4","text":"","category":"section"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"In this example, value of inlet flow is a negative number which means the flow direction and arrow are in opposite direction.","category":"page"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"(Image: 图 4)","category":"page"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"using Ai4EComponentLib.IncompressiblePipe\nusing DifferentialEquations, ModelingToolkit, Test\n\nsystem = []\n@named pumpA = CentrifugalPump();\npush!(system, pumpA);\n@named pumpB = CentrifugalPump();\npush!(system, pumpB);\n\n@named pipe1 = SimplePipe(L=1.0);\npush!(system, pipe1);\n@named pipe2 = SimplePipe(L=2.0);\npush!(system, pipe2);\n@named pipe3 = SimplePipe(L=2.0);\npush!(system, pipe3);\n@named pipe4 = SimplePipe(L=4.0);\npush!(system, pipe4);\n@named pipe5 = SimplePipe(L=2.0);\npush!(system, pipe5);\n@named pipe6 = SimplePipe(L=2.0);\npush!(system, pipe6);\n@named pipe7 = SimplePipe(L=2.0);\npush!(system, pipe7);\n@named pipe8 = SimplePipe(L=1.0);\npush!(system, pipe8);\n@named pipe9 = SimplePipe(L=6.0);\npush!(system, pipe9);\n@named pipe10 = SimplePipe(L=2.0);\npush!(system, pipe10);\n@named pipe11 = SimplePipe(L=1.0);\npush!(system, pipe11);\n\n@named sink0 = Sink_P();\npush!(system, sink0);\n@named sink1 = Sink_P();\npush!(system, sink1);\n@named sink2 = Sink_P();\npush!(system, sink2);\n\neqs = [\n  connect(sink0.port, pumpA.in)\n  connect(pumpA.out, pipe1.in)\n  connect(pipe1.out, pipe2.in, pipe3.in, pipe4.in)\n  connect(pipe2.out, pumpB.in)\n  connect(pumpB.out, pipe9.in)\n  connect(pipe3.out, pipe5.in, pipe6.in)\n  connect(pipe6.out, pipe4.out, pipe7.in)\n  connect(pipe7.out, pipe10.out, pipe11.in)\n  connect(pipe11.out, sink2.port)\n  connect(pipe9.out, pipe5.out, pipe10.in, pipe8.in)\n  connect(pipe8.out, sink1.port)\n]\n\n@named model = compose(ODESystem(eqs, t, name=:funs), system)\nsys = structural_simplify(model)\nprob = ODEProblem(sys, [], (0, 0.0))\nsol = solve(prob)\n\nres = Dict()\nfor i in system[3:end-3]\n  global res[string(i.name) * \" inlet flow:\"] = sol[i.in.q][1]\nend\nres","category":"page"},{"location":"tutorials/IncompressiblePipe/#Example-5","page":"IncompressiblePipe System","title":"Example 5","text":"","category":"section"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"(Image: 图 5)  ","category":"page"},{"location":"tutorials/IncompressiblePipe/","page":"IncompressiblePipe System","title":"IncompressiblePipe System","text":"using Ai4EComponentLib.IncompressiblePipe\nusing DifferentialEquations, ModelingToolkit, Test\n\n@named Pump = CentrifugalPump(ω=5000)\n@named A = Sink_P()\n@named B = Sink_P()\n\nsystem = [A, B, Pump]\n\n@named Pipe1 = SimplePipe(L=2.0);\npush!(system, Pipe1);\n@named Pipe2 = SimplePipe(L=3.0);\npush!(system, Pipe2);\n@named Pipe3 = SimplePipe(L=7.0);\npush!(system, Pipe3);\n@named Pipe4 = SimplePipe(L=9.0);\npush!(system, Pipe4);\n@named Pipe5 = SimplePipe(L=5.0);\npush!(system, Pipe5);\n@named Pipe6 = SimplePipe(L=4.0);\npush!(system, Pipe6);\n@named Pipe7 = SimplePipe(L=5.0);\npush!(system, Pipe7);\n@named Pipe8 = SimplePipe(L=1.0);\npush!(system, Pipe8);\n@named Pipe9 = SimplePipe(L=10.0);\npush!(system, Pipe9);\n@named Pipe10 = SimplePipe(L=2.0);\npush!(system, Pipe10);\n@named Pipe11 = SimplePipe(L=2.0);\npush!(system, Pipe11);\n@named Pipe12 = SimplePipe(L=3.0);\npush!(system, Pipe12);\n@named Pipe13 = SimplePipe(L=12.0);\npush!(system, Pipe13);\n@named Pipe14 = SimplePipe(L=1.0);\npush!(system, Pipe14);\n@named Pipe15 = SimplePipe(L=2.0);\npush!(system, Pipe15);\n@named Pipe16 = SimplePipe(L=3.0);\npush!(system, Pipe16);\n@named Pipe17 = SimplePipe(L=6.0);\npush!(system, Pipe17);\n@named Pipe18 = SimplePipe(L=6.0);\npush!(system, Pipe18);\n@named Pipe19 = SimplePipe(L=6.0);\npush!(system, Pipe19);\n@named Pipe20 = SimplePipe(L=1.0);\npush!(system, Pipe20);\n@named Pipe21 = SimplePipe(L=1.0);\npush!(system, Pipe21);\n@named Pipe22 = SimplePipe(L=7.0);\npush!(system, Pipe22);\n@named Pipe23 = SimplePipe(L=3.0);\npush!(system, Pipe23);\n@named Pipe24 = SimplePipe(L=3.0);\npush!(system, Pipe24);\n@named Pipe25 = SimplePipe(L=2.0);\npush!(system, Pipe25);\n\neqs = [\n  connect(A.port, Pump.in)\n  connect(Pump.out, Pipe1.in)\n  connect(Pipe1.out, Pipe2.in, Pipe5.in)\n  connect(Pipe2.out, Pipe3.in, Pipe6.in)\n  connect(Pipe3.out, Pipe4.in, Pipe7.in)\n  connect(Pipe4.out, Pipe10.out, Pipe14.in)\n  connect(Pipe5.out, Pipe11.in, Pipe12.in)\n  connect(Pipe6.out, Pipe8.in, Pipe9.in)\n  connect(Pipe7.out, Pipe9.out, Pipe10.in)\n  connect(Pipe12.out, Pipe8.out, Pipe13.in)\n  connect(Pipe13.out, Pipe14.out, Pipe15.in)\n  connect(Pipe11.out, Pipe19.in, Pipe16.in)\n  connect(Pipe16.out, Pipe17.in, Pipe20.in)\n  connect(Pipe17.out, Pipe18.in, Pipe21.in)\n  connect(Pipe18.out, Pipe15.out, Pipe22.in)  \n  connect(Pipe19.out, Pipe20.out, Pipe23.in)  \n  connect(Pipe21.out, Pipe22.out, Pipe24.in)  \n  connect(Pipe23.out, Pipe24.out, Pipe25.in)  \n  connect(B.port, Pipe25.out)\n]\n\n\n@named model = compose(ODESystem(eqs, t, name=:funs), system)\nsys = structural_simplify(model)\nprob = ODEProblem(sys, [], (0, 0.0))\nsol = solve(prob)\n\nres = Dict()\nfor i in system[4:end]\n  global res[string(i.name) * \" inlet flow:\"] = sol[i.in.q][1]\nend\nres","category":"page"},{"location":"API/Electrochemistry/#ElectrochemistryAPI","page":"ElectrochemistryAPI","title":"ElectrochemistryAPI","text":"","category":"section"},{"location":"API/Electrochemistry/","page":"ElectrochemistryAPI","title":"ElectrochemistryAPI","text":"CurrentModule = Ai4EComponentLib.Electrochemistry","category":"page"},{"location":"API/Electrochemistry/","page":"ElectrochemistryAPI","title":"ElectrochemistryAPI","text":"Pages = [\"Electrochemistry.md\"]","category":"page"},{"location":"API/Electrochemistry/#Index","page":"ElectrochemistryAPI","title":"Index","text":"","category":"section"},{"location":"API/Electrochemistry/","page":"ElectrochemistryAPI","title":"ElectrochemistryAPI","text":"Pages = [\"Electrochemistry.md\"]","category":"page"},{"location":"API/Electrochemistry/#Electrochemistry-Components","page":"ElectrochemistryAPI","title":"Electrochemistry Components","text":"","category":"section"},{"location":"API/Electrochemistry/","page":"ElectrochemistryAPI","title":"ElectrochemistryAPI","text":"Modules = [Electrochemistry]","category":"page"},{"location":"API/Electrochemistry/#Ai4EComponentLib.Electrochemistry.Ground-Tuple{}","page":"ElectrochemistryAPI","title":"Ai4EComponentLib.Electrochemistry.Ground","text":"Ground(; name)\n\n\nGround node with the potential of zero and connector g. Every circuit must have one ground node.\n\nFrom ModelingToolkitStandardLibrary.jl\n\nConnectors:\n\ng\n\n\n\n\n\n","category":"method"},{"location":"API/Electrochemistry/#Ai4EComponentLib.Electrochemistry.Lithium_ion_batteries-Tuple{}","page":"ElectrochemistryAPI","title":"Ai4EComponentLib.Electrochemistry.Lithium_ion_batteries","text":"Lithium_ion_batteries(; name, R_0, R_s, R_f, R_sd, C_s, C_f, C_b, SOC2OC)\n\n\nComponent: lithiumionbatteries with 8 Paramenters\n\nStates:\n\nv_b: [V] Load voltage\ni_b: [A] Load current\nv_s: [V] Voltage through the short transient RC\nv_f: [V] Voltage through the long transient RC\nv_soc: [V] Voltage representing SOC(0~1)\nv_oc: [V] Open circuit voltage\n\nParamenters:\n\nR_0: Series resistor\nR_s: Short transient resistor\nR_f: Long transient resistor\nR_sd: Self-discharge resistor\nC_s: Short transient capacity\nC_f: Long transient capacity\nC_b: Usable capacity\nSOC2OC: The fitting function of vsoc and voc\n\nConnectors:\n\np Positive pin\nn Negative pin\n\nReference: M. Chen, G.A. Rincon-Mora, Accurate electrical battery model capable of predicting runtime and i-v performance, IEEE Trans.      Energy Convers. 21 (2) (2006) 504–511, https://doi.org/10.1109/TEC.2006.874229.\n\n\n\n\n\n","category":"method"},{"location":"API/Electrochemistry/#Ai4EComponentLib.Electrochemistry.OnePort-Tuple{}","page":"ElectrochemistryAPI","title":"Ai4EComponentLib.Electrochemistry.OnePort","text":"OnePort(; name)\n\n\nComponent with two electrical pins p and n and current i flows from p to n.\n\nFrom ModelingToolkitStandardLibrary.jl\n\nStates:\n\nv(t): [V] The voltage across component p.v - n.v\ni(t): [A] The current passing through positive pin\n\nParameters:\n\nv_start: [V] Initial voltage across the component\ni_start: [A] Initial current through the component\n\nConnectors:\n\np Positive pin\nn Negative pin\n\n\n\n\n\n","category":"method"},{"location":"API/Electrochemistry/#Ai4EComponentLib.Electrochemistry.PEMElectrolyzer-Tuple{}","page":"ElectrochemistryAPI","title":"Ai4EComponentLib.Electrochemistry.PEMElectrolyzer","text":"PEMElectrolyzer(; name, τ, I_0, n, u_0, R_sol)\n\n\nComponent: PEMElectrolyzer(Proton Exchange Membranes Electrolyzer)\n\nI-U in Electrolyzer:\n\nU_cell=U_0-tau times sinh left(fracII_0(T)right)+I times R_textsol(T)\n\nMolar Yield of Hydrogen and Oxygen, Molar consumption of water:\n\nbeginaligned\ndotn_H_2 O =fracn_c I_e l2 cdot F \ndotn_H_2 =fracn_c I_e l2 cdot F cdot eta_f \ndotn_O_2 =fracn_c I_e l2 cdot F cdot eta_f\nendaligned\n\nMass yield of hydrogen[1]:\n\nfracmathrmd^2 dotmmathrmd t^2=-2 zeta cdot omega_n fracmathrmd dotmmathrmd t-omega_n ^2 dotm+omega_n ^2 M_H_2 n_H_2\n\nStates:\n\nv(t): [V] Voltage across the Electrolyzer\ni(t): [A] Current through the Electrolyzer\nn_H_2(t): [mol/s] Molar Yield of Hydrogen\nη_f(t): Faraday efficiency, here η_f = 1\nm_H_2(t): [g/s] Mass yield of hydrogen\n∂_m_H_2: Derivative of hydrogen mass yield\n\nParameters:\n\nτ: Tafel slope\nI_0: Exchange Current Density\nn: Number of electrolyzers in series\nu_0: Equilibrium potential\nR_sol: Solution resistance\n\nInside Variables:\n\nωₙ: Natural frequency of Hydrogen production [1]\nζ: Damping ratio of Hydrogen production [1]\nmolarMassH2: [g/mol] Molar mass of hydrogen\n\nConnectors:\n\np Positive pin\nn Negative pin\n\nReference:\n\n[1]Espinosa-López M, Darras C, Poggi P, et al. Modelling and experimental validation of a 46 kw pem high pressure water electrolyzer[J]. Renewable energy, 2018, 119:160-173.\n\n\n\n\n\n","category":"method"},{"location":"API/Electrochemistry/#Ai4EComponentLib.Electrochemistry.PhotovoltaicCell-Tuple{}","page":"ElectrochemistryAPI","title":"Ai4EComponentLib.Electrochemistry.PhotovoltaicCell","text":"PhotovoltaicCell(; name, I_ph, I_0, a, R_s, R_sh)\n\n\nComponent: PhotovoltaicCell with 5 Paramenters\n\nStates:\n\nv(t): [V] Voltage across the Cell\ni(t): [A] Current through the Cell\n\nParamenters:\n\nI_ph: Photocurrent\nI_0: Reverse saturation current\na: Correction factor\nR_s: Series resistance\nR_sh: Ohmic resistance\n\nConnectors:\n\np Positive pin\nn Negative pin\n\nReference: De Soto W, Klein S A, Beckman W A. Improvement and validation of a model for photovoltaic array performance[J]. Solar energy, 2006, 80(1):78-88.\n\n\n\n\n\n","category":"method"},{"location":"API/Electrochemistry/#Ai4EComponentLib.Electrochemistry.Pin-Tuple{}","page":"ElectrochemistryAPI","title":"Ai4EComponentLib.Electrochemistry.Pin","text":"Pin(; name)\n\n\nA pin in an analog circuit.\n\nFrom ModelingToolkitStandardLibrary.jl\n\nStates:\n\nv(t): [V] The voltage at this pin\ni(t): [A] The current passing through this pin\n\n\n\n\n\n","category":"method"},{"location":"tutorials/CompressedAirSystem/#CompressenAirSystem","page":"CompressenAirSystem","title":"CompressenAirSystem","text":"","category":"section"},{"location":"tutorials/CompressedAirSystem/","page":"CompressenAirSystem","title":"CompressenAirSystem","text":"This page shows 2 examples of CompressedAirSystem.","category":"page"},{"location":"tutorials/CompressedAirSystem/","page":"CompressenAirSystem","title":"CompressenAirSystem","text":"3 steps to use CompressedAirSystem System:","category":"page"},{"location":"tutorials/CompressedAirSystem/","page":"CompressenAirSystem","title":"CompressenAirSystem","text":"Define components\nConnect components\nSolve","category":"page"},{"location":"tutorials/CompressedAirSystem/#Example-1:-A-basic-test-for-components","page":"CompressenAirSystem","title":"Example 1: A basic test for components","text":"","category":"section"},{"location":"tutorials/CompressedAirSystem/","page":"CompressenAirSystem","title":"CompressenAirSystem","text":"(Image: Fig 1.1)","category":"page"},{"location":"tutorials/CompressedAirSystem/","page":"CompressenAirSystem","title":"CompressenAirSystem","text":"This test has 6 components:","category":"page"},{"location":"tutorials/CompressedAirSystem/","page":"CompressenAirSystem","title":"CompressenAirSystem","text":"Pressure Source, inlet of system\nSimple Pipe, it's actually a stable component not only stand for pipes but also valves and elbows and their ccombinations.\nTransition Pipe. There are two transition pipes, one in front of air storage tank and another behind it.\nAir Storage Tank.\nFlow Sink, outlet of system.","category":"page"},{"location":"tutorials/CompressedAirSystem/","page":"CompressenAirSystem","title":"CompressenAirSystem","text":"# Define components\nusing Ai4EComponentLib.CompressedAirSystem\nusing ModelingToolkit, DifferentialEquations\n\n@named inlet = PressureSource(p=6e5, T=300)\n@named pipe1 = SimplePipe(R=100, T=300)\n@named pipe2 = TransitionPipe(n=20, f=0.016, D=0.2, L=100, T=300, pins=5.6e5, pouts=4e5)\n@named airTank = AirStorageTank(V=20, T=300, p0=4e5)\n@named pipe3 = TransitionPipe(n=20, f=0.016, D=0.2, L=100, T=300, pins=4e5, pouts=2e5)\n@named outlet = FlowSource(qm=-3.0, T=300)\n\n# Connect components\neqs=[\n    connect(inlet.port,pipe1.inlet)\n    connect(pipe1.outlet,pipe2.inlet)\n    connect(pipe2.outlet,airTank.inlet)\n    connect(airTank.outlet,pipe3.inlet)\n    connect(pipe3.outlet,outlet.port)\n]\n\n@named connects=ODESystem(eqs,t)\n@named model=compose(connects,inlet,pipe1,pipe2,pipe3,airTank,outlet)\n\n# Simplify the system and solve\nsys=structural_simplify(model)\n\nprob=ODAEProblem(sys,[],(0.0,5.0))\n\nsol=solve(prob,Rosenbrock23())","category":"page"},{"location":"tutorials/CompressedAirSystem/","page":"CompressenAirSystem","title":"CompressenAirSystem","text":"We can find the variation of mass flow rate at the inlet and outlet of this system, and the pressure in air storage tank.","category":"page"},{"location":"tutorials/CompressedAirSystem/","page":"CompressenAirSystem","title":"CompressenAirSystem","text":"(Image: Fig 1.2)","category":"page"},{"location":"tutorials/CompressedAirSystem/","page":"CompressenAirSystem","title":"CompressenAirSystem","text":"(Image: Fig 1.3)","category":"page"},{"location":"tutorials/ThermodynamicCycle/#ThermodynamicCycle-System","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"","category":"section"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"This page shows 5 examples of ThermodynamicCycle System.","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"3 steps to use ThermodynamicCycle System:","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"Define components\nConnect components\nSolve","category":"page"},{"location":"tutorials/ThermodynamicCycle/#Example-1:-Rankine-Cycle","page":"ThermodynamicCycle System","title":"Example 1: Rankine Cycle","text":"","category":"section"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"In this example, we define a variable x(t). It has nothing to do with the cycle. Actually, the meaning of this variable just allows the problem can be modeled by MTK and can be solved by DE. Becasue the cycle is kind of a sequential calculation, and it does not need to be solved. So add a x(t) to make it a differential equation problem.","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"(Image: 图 2)  ","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"Parameter of Rankine Cycle:","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"Pump supply pressure : 3.0 MPa\nTemperature of Boiler outlet: 450 ℃\nCooling pressure in condenser: 4 kPa\nState of Water at pump inlet: Saturated water","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"tip: Tip\nIf States are Saturated(\"Q_0\" or \"Q_1\"), then ThermalStates has no need to be defined.","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"using Ai4EComponentLib.ThermodynamicCycle\nusing DifferentialEquations, ModelingToolkit\nusing CoolProp\n\n@variables x(t)\n\n@named pump = IsentropicProcess(inter_state=\"P\")\n@named pump_P = ThermalStates(state=\"P\", value=3.0E6)\n\n@named boiler = IsobaricProcess(inter_state=\"T\")\n@named boiler_T = ThermalStates(state=\"T\", value=450.0 + 273.15)\n\n@named turbine = IsentropicProcess(inter_state=\"P\")\n@named turbine_P = ThermalStates(state=\"P\", value=4.0E3)\n\n@named condenser = IsothermalProcess(inter_state=\"Q_0\")\n\neqs = [\n  connect(pump.out, boiler.in, pump_P.node)\n  connect(boiler.out, turbine.in, boiler_T.node)\n  connect(turbine.out, condenser.in, turbine_P.node)\n  connect(condenser.out, pump.in)\n  ∂(x) ~ 0\n]\n\n@named model = ODESystem(eqs, t, systems=[pump, boiler, turbine, condenser, pump_P, boiler_T, turbine_P])\n\nsys = structural_simplify(model)\n\nprob = ODEProblem(sys, [0], (0, 0))\nsol = solve(prob)\n\nq1 = sol[boiler.Δh][1]\nw = -sol[turbine.Δh][1] - sol[pump.Δh][1]\nη = w / q1","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"And we can get the T-S diagram(tephigram) of the Rankine Cylce.","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"plot_sys = [pump, boiler, turbine, condenser];\npropx = :s\npropy = :T\nss = [sol[getproperty(i.out, propx)][1] for i in plot_sys]\ntt = [sol[getproperty(i.out, propy)][1] for i in plot_sys]\nusing Plots\nres = collect(range(ss[1], ss[2], 100))\nplot(res, CoolProp.PropsSI.(\"T\", \"P\", 17.0E6, \"S\", res, \"Water\"), label=\"Boiler\", xlim=(0, 10000),ylabel=\"T\",xlabel=\"S\")\nplot!(collect(range(ss[2], ss[3], 100)), collect(range(tt[2], tt[3], 100)), label=\"Turbine\")\nres = collect(range(ss[3], ss[4], 100))\nplot!(res, CoolProp.PropsSI.(\"T\", \"P\", 5.0E3, \"S\", res, \"Water\"), label=\"Condenser\")\nplot!(collect(range(ss[4], ss[1], 100)), collect(range(tt[4], tt[1], 100)), label=\"Pump\")","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"The energy consumed by the pump is almost invisible from the diagram. Therefore, the work of the pump is often ignored when calculating the efficiency.","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"(Image: fig)","category":"page"},{"location":"tutorials/ThermodynamicCycle/#Example-2:-States-change-over-time","page":"ThermodynamicCycle System","title":"Example 2: States change over time","text":"","category":"section"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"If we make one of detemined state(some of states are also supported. Just design as you want) change over time, the problem then becomes a true differential equation problem and we don't need x(t) any more.","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"The meaning of this example is that calculate rankine cycle's thermal efficiency when the pressure in the boiler are [10.0,11.0,12.0,13.0,14.0,15.0,16.0,17.0,18.0,19.0,20.0]MPa","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"Parameter of Rankine Cycle:","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"Pump supply pressure : [10.0,...,20.0] MPa\nTemperature of Boiler outlet: 550 ℃\nCooling pressure in condenser: 5 kPa\nState of Water at pump inlet: Saturated water","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"using Ai4EComponentLib.ThermodynamicCycle\nusing DifferentialEquations, ModelingToolkit\nusing CoolProp\n\n@named pump = IsentropicProcess(inter_state=\"P\")\n@named pump_P = DThermalStates(state=\"P\", value=1.0E6, u0=10.0E6)\n\n@named boiler = IsobaricProcess(inter_state=\"T\")\n@named boiler_T = ThermalStates(state=\"T\", value=550.0 + 273.15)\n\n@named turbine = IsentropicProcess(inter_state=\"P\")\n@named turbine_P = ThermalStates(state=\"P\", value=5.0E3)\n\n@named condenser = IsothermalProcess(inter_state=\"Q_0\")\n\neqs = [\n  connect(pump.out, boiler.in, pump_P.node)\n  connect(boiler.out, turbine.in, boiler_T.node)\n  connect(turbine.out, condenser.in, turbine_P.node)\n  connect(condenser.out, pump.in)\n]\n\n\n@named model = ODESystem(eqs, t, systems=[pump, boiler, turbine, condenser, pump_P, boiler_T, turbine_P])\n\nsys = structural_simplify(model)\n\nprob = ODEProblem(sys, [], (0, 10), saveat=1)\nsol = solve(prob)\n\nq1 = sol[boiler.Δh]\nw = -sol[turbine.Δh] - sol[pump.Δh]\nη = w ./ q1\n","category":"page"},{"location":"tutorials/ThermodynamicCycle/#Example-3:-Reheat-Rankine-cycle","page":"ThermodynamicCycle System","title":"Example 3: Reheat Rankine cycle","text":"","category":"section"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"To be more efficient, consider reheat Rankine Cycle.","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"Parameter of Reheat Rankine Cycle:","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"Pump supply pressure : [18.0,...,10.0] MPa\nTemperature of Boiler outlet: 550 ℃\nOutlet pressure of turbine first stage: 3.0 MPa\nTemperature of ReBoiler outlet: 450 ℃\nCooling pressure in condenser: 4 kPa\nState of Water at pump inlet: Saturated water","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"(Image: 图 3)  ","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"using Ai4EComponentLib.ThermodynamicCycle\nusing DifferentialEquations, ModelingToolkit\nusing CoolProp\n\n@named pump = IsentropicProcess(inter_state=\"P\")\n@named pump_P = DThermalStates(state=\"P\", value=-1.0E5, u0=18.0E6)\n\n@named boiler = IsobaricProcess(inter_state=\"T\")\n@named boiler_T = ThermalStates(state=\"T\", value=550+ 273.15)\n\n@named turbine = IsentropicProcess(inter_state=\"P\")\n@named turbine_P = ThermalStates(state=\"P\", value=3.0e6)\n\n@named reboiler = IsobaricProcess(inter_state=\"T\")\n@named reboiler_T = ThermalStates(state=\"T\", value=450 + 273.15)\n\n@named returbine = IsentropicProcess(inter_state=\"P\")\n@named returbine_P = ThermalStates(state=\"P\", value=4.0e3)\n\n@named condenser = IsothermalProcess(inter_state=\"Q_0\")\n\neqs = [\n  connect(pump.out, boiler.in, pump_P.node)\n  connect(boiler.out, turbine.in, boiler_T.node)\n  connect(turbine.out, reboiler.in, turbine_P.node)\n  connect(reboiler.out, returbine.in, reboiler_T.node)\n  connect(returbine.out, condenser.in, returbine_P.node)\n  connect(condenser.out, pump.in)\n]\n\n@named model = ODESystem(eqs, t, systems=[pump, boiler, turbine,\n  condenser, pump_P, boiler_T, turbine_P, reboiler,\n  reboiler_T, returbine, returbine_P])\n\nsys = structural_simplify(model)\n\nprob = ODEProblem(sys, [], (0, 10), saveat=1)\nsol = solve(prob)\n\nq1 = sol[boiler.Δh] .+ sol[reboiler.Δh]\nw = -sol[turbine.Δh] - sol[returbine.Δh] - sol[pump.Δh]\nη = w ./ q1\n","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"And T-S diagram.","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"plot_sys = [pump, boiler, turbine, reboiler, returbine, condenser];\npropx = :s\npropy = :T\n\nss = [sol[getproperty(i.out, propx)][1] for i in plot_sys]\ntt = [sol[getproperty(i.out, propy)][1] for i in plot_sys]\n\nusing Plots\nres = collect(range(ss[1], ss[2], 100))\nplot(res, CoolProp.PropsSI.(\"T\", \"P\", 6.69E6, \"S\", res, \"Water\"), label=\"Boiler\", xlim=(0, 10000), ylabel=\"T\", xlabel=\"S\")\nplot!(collect(range(ss[2], ss[3], 100)), collect(range(tt[2], tt[3], 100)), label=\"Turbine\")\nres = collect(range(ss[3], ss[4], 100))\nplot!(res, CoolProp.PropsSI.(\"T\", \"P\", 0.782e6, \"S\", res, \"Water\"), label=\"reBoiler\")\nplot!(collect(range(ss[4], ss[5], 100)), collect(range(tt[4], tt[5], 100)), label=\"reTurbine\")\nplot!(collect(range(ss[5], ss[6], 100)), collect(range(tt[5], tt[6], 100)), label=\"Condenser\")\nplot!(collect(range(ss[6], ss[1], 100)), collect(range(tt[6], tt[1], 100)), label=\"Pump\")\n","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"(Image: 图 7)  ","category":"page"},{"location":"tutorials/ThermodynamicCycle/#Example-4:-A-Rankine-cycle-System","page":"ThermodynamicCycle System","title":"Example 4: A Rankine cycle System","text":"","category":"section"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"Combined with Example1 and Example3. Suppose Boiler1 and Boiler2 have the same steam output. What is the efficiency?","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"(Image: 图 4)","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"In fact, it can be regarded as the average of two separate Rankine cycle and reheat Rankine cycle.","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"(0.45644849499826373 + 0.37492352067537854)/2","category":"page"},{"location":"tutorials/ThermodynamicCycle/#Example-5:-Brayton-cycle-in-Gas-Turbine","page":"ThermodynamicCycle System","title":"Example 5: Brayton cycle in Gas Turbine","text":"","category":"section"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"The method of modeling is the same.","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"(Image: 图 5)  ","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"Parameter of Brayton cycle:","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"Pressure at compressor outlet: 1.212 MPa\nTemperature at compressor inlet: 310 K\nTemperature at combustion chamber outlet: 1573 K\nPressure at gas turbine outlet: 101 kPa","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"using Ai4EComponentLib.ThermodynamicCycle\nusing DifferentialEquations, ModelingToolkit\nusing CoolProp\n\n@variables x(t)\n\nsystem = []\n@named compressor = IsentropicProcess(inter_state=\"P\", fluid=\"Air\")\n@named compressor_P = ThermalStates(state=\"P\", value=0.101e6 * 12)\npush!(system, compressor, compressor_P)\n\n@named combustion_chamber = IsobaricProcess(inter_state=\"T\", fluid=\"Air\")\n@named combustion_chamber_T = ThermalStates(state=\"T\", value=1573)\npush!(system, combustion_chamber, combustion_chamber_T)\n\n@named gas_turbine = IsentropicProcess(inter_state=\"P\", fluid=\"Air\")\n@named gas_turbine_P = ThermalStates(state=\"P\", value=0.101e6)\npush!(system, gas_turbine, gas_turbine_P)\n\n@named cooling = IsobaricProcess(inter_state=\"T\", fluid=\"Air\")\n@named cooling_T = ThermalStates(state=\"T\", value=310)\n# @named cooling_P = ThermalStates(state=\"P\", value=0.101e6)\npush!(system, cooling, cooling_T)\n\neqs = [\n  connect(compressor.out, combustion_chamber.in, compressor_P.node)\n  connect(combustion_chamber.out, gas_turbine.in, combustion_chamber_T.node)\n  connect(gas_turbine.out, cooling.in, gas_turbine_P.node)\n  connect(cooling.out, compressor.in, cooling_T.node)\n  ∂(x) ~ 0\n]\n\n@named model = ODESystem(eqs, t, systems=system)\n\nsys = structural_simplify(model)\n\nprob = ODEProblem(sys, [0], (0, 0))\nsol = solve(prob)\n\nq1 = sol[combustion_chamber.Δh][1]\nw = -sol[gas_turbine.Δh][1] - sol[compressor.Δh][1]\nη = w / q1","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"Brayton cycle T-S diagram:","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"plot_sys = [compressor, combustion_chamber, gas_turbine, cooling];\npropx = :s\npropy = :T\n\nss = [sol[getproperty(i.out, propx)][1] for i in plot_sys]\ntt = [sol[getproperty(i.out, propy)][1] for i in plot_sys]\nxs = Float64[]\nys = Float64[]\nusing Plots\n\nres = collect(range(ss[1], ss[2], 100))\nplot(res, CoolProp.PropsSI.(\"T\", \"P\", 0.101e6 * 12, \"S\", res, \"Air\"), label=\"combustion_chamber\", xlim=(3500, 6000),ylabel=\"T\",xlabel=\"S\")\nplot!(collect(range(ss[2], ss[3], 100)), collect(range(tt[2], tt[3], 100)), label=\"gas_turbine\")\nres = collect(range(ss[3], ss[4], 100))\nplot!(res, CoolProp.PropsSI.(\"T\", \"P\", 0.101e6, \"S\", res, \"Air\"), label=\"cooling\")\nplot!(collect(range(ss[4], ss[1], 100)), collect(range(tt[4], tt[1], 100)), label=\"compressor\")\n","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"(Image: 图 8)  ","category":"page"},{"location":"tutorials/ThermodynamicCycle/#Example-6:-ArbitraryProcess-Example","page":"ThermodynamicCycle System","title":"Example 6: ArbitraryProcess Example","text":"","category":"section"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"With parameters in example 5, we treat process in gas turbine a ArbitraryProcess. And suppose all thermal energy is converted into kinetic energy by gas turbine without loss.","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"Temperature at gas turbine outlet: 770 K\nPressure at gas turbine outlet: 101 kPa","category":"page"},{"location":"tutorials/ThermodynamicCycle/","page":"ThermodynamicCycle System","title":"ThermodynamicCycle System","text":"using Ai4EComponentLib.ThermodynamicCycle\nusing DifferentialEquations, ModelingToolkit\nusing CoolProp\n\n@variables x(t)\n\nsystem = []\n@named compressor = IsentropicProcess(inter_state=\"P\", fluid=\"Air\")\n@named compressor_P = ThermalStates(state=\"P\", value=0.101e6 * 12)\npush!(system, compressor, compressor_P)\n\n@named combustion_chamber = IsobaricProcess(inter_state=\"T\", fluid=\"Air\")\n@named combustion_chamber_T = ThermalStates(state=\"T\", value=1573)\npush!(system, combustion_chamber, combustion_chamber_T)\n\n@named gas_turbine = ArbitraryProcess(inter_state=\"P\", fluid=\"Air\")\n@named gas_turbine_P = ThermalStates(state=\"P\", value=0.101e6)\n@named gas_turbine_T = ThermalStates(state=\"T\", value=770)\npush!(system, gas_turbine, gas_turbine_P, gas_turbine_T)\n\n@named cooling = IsobaricProcess(inter_state=\"T\", fluid=\"Air\")\n@named cooling_T = ThermalStates(state=\"T\", value=310)\npush!(system, cooling, cooling_T)\n\neqs = [\n  connect(compressor.out, combustion_chamber.in, compressor_P.node)\n  connect(combustion_chamber.out, gas_turbine.in, combustion_chamber_T.node)\n  connect(gas_turbine.out, cooling.in, gas_turbine_P.node, gas_turbine_T.node)\n  connect(cooling.out, compressor.in, cooling_T.node)\n  ∂(x) ~ 0\n]\n\n@named model = ODESystem(eqs, t, systems=system)\n\nsys = structural_simplify(model)\n\nprob = ODEProblem(sys, [0], (0, 0))\nsol = solve(prob)\n\nq1 = sol[combustion_chamber.Δh][1]\nw = -sol[gas_turbine.Δh][1] - sol[compressor.Δh][1]\nη = w / q1","category":"page"},{"location":"API/IncompressiblePipe/#IncompressiblePipeAPI","page":"IncompressiblePipeAPI","title":"IncompressiblePipeAPI","text":"","category":"section"},{"location":"API/IncompressiblePipe/","page":"IncompressiblePipeAPI","title":"IncompressiblePipeAPI","text":"CurrentModule = Ai4EComponentLib.IncompressiblePipe","category":"page"},{"location":"API/IncompressiblePipe/","page":"IncompressiblePipeAPI","title":"IncompressiblePipeAPI","text":"Pages = [\"IncompressiblePipe.md\"]","category":"page"},{"location":"API/IncompressiblePipe/#Index","page":"IncompressiblePipeAPI","title":"Index","text":"","category":"section"},{"location":"API/IncompressiblePipe/","page":"IncompressiblePipeAPI","title":"IncompressiblePipeAPI","text":"Pages = [\"IncompressiblePipe.md\"]","category":"page"},{"location":"API/IncompressiblePipe/#IncompressiblePipe-Components","page":"IncompressiblePipeAPI","title":"IncompressiblePipe Components","text":"","category":"section"},{"location":"API/IncompressiblePipe/","page":"IncompressiblePipeAPI","title":"IncompressiblePipeAPI","text":"Modules = [IncompressiblePipe]","category":"page"},{"location":"API/IncompressiblePipe/#Ai4EComponentLib.IncompressiblePipe.CentrifugalPump-Tuple{}","page":"IncompressiblePipeAPI","title":"Ai4EComponentLib.IncompressiblePipe.CentrifugalPump","text":"CentrifugalPump(; name, D, ω, c_0, c_1, ρ)\n\n\nComponent: CentrifugalPump\n\nIdeal H-Q Characteristic curves of Centrifugal Pumps:\n\nH_t=frac(romega)^2g-fracomega cotbeta 2pi bgQ=c_0omega^2-c_1omega Q=a_0-a_1Q\n\nParameters:\n\nD: [m] Diameter of pipe\nω: [r/min] rotary speed\nc_0: parameter in H-Q Characteristic curves\nc_1: parameter in H-Q Characteristic curves\n\nConnectors:\n\nin: Inlet of pump\nout: Outlet of pump\n\n\n\n\n\n","category":"method"},{"location":"API/IncompressiblePipe/#Ai4EComponentLib.IncompressiblePipe.ElbowPipe-Tuple{}","page":"IncompressiblePipeAPI","title":"Ai4EComponentLib.IncompressiblePipe.ElbowPipe","text":"ElbowPipe(; name, D, K, ρ, zin, zout)\n\n\nComponent: ElbowPipe(pipe with fixed local resistance loss coefficient f)\n\nEnergy conservation equation in the form of Bernoulli Equation between two ports:\n\nfracp_inrho g +frac8q_in^2pi^2D^4g + z_in=\nfracp_outrho g +frac8q_out^2pi^2D^4g + z_out+h_f+h_m\n\nParameters:\n\nD: [m] Diameter of pipe\nK: Local resistance loss coefficient\n\nConnectors:\n\nin: Inlet of pipe\nout: Outlet of pipe\n\nArguments:\n\nzin: [m] The height of inlet port\nzout: [m] The height of outlet port\nρ: [`m³/kg] The density of fluid passing the port\n\n\n\n\n\n","category":"method"},{"location":"API/IncompressiblePipe/#Ai4EComponentLib.IncompressiblePipe.PipeNode-Tuple{}","page":"IncompressiblePipeAPI","title":"Ai4EComponentLib.IncompressiblePipe.PipeNode","text":"PipeNode(; name, z)\n\n\nA pipe port(inlet or outlet) in an pipe network.\n\nStates:\n\np(t): [Pa] The pressure at this port\nq(t): [m³/s] The volume flow passing through this port\n\nParameters:\n\nz: [m] The hight of port, expressing potential energy\n\n\n\n\n\n","category":"method"},{"location":"API/IncompressiblePipe/#Ai4EComponentLib.IncompressiblePipe.SimplePipe-Tuple{}","page":"IncompressiblePipeAPI","title":"Ai4EComponentLib.IncompressiblePipe.SimplePipe","text":"SimplePipe(; name, L, D, f, ρ, zin, zout, K_inside)\n\n\nComponent: SimplePipe(pipe with fixed friction factor f)\n\nEnergy conservation equation in the form of Bernoulli Equation between two ports:\n\nfracp_inrho g +frac8q_in^2pi^2D^4g + z_in=\nfracp_outrho g +frac8q_out^2pi^2D^4g + z_out+h_f+h_m\n\nParameters:\n\nD: [m] Diameter of pipe\nL: [m] Length of pipe\nf: Friction factor\nK_inside: Coefficient of local resistance loss inside the pipe\n\nConnectors:\n\nin: Inlet of pipe\nout: Outlet of pipe\n\nArguments:\n\nzin: [m] The height of inlet port\nzout: [m] The height of outlet port\nρ: [`m³/kg] The density of fluid passing the port\n\n\n\n\n\n","category":"method"},{"location":"API/IncompressiblePipe/#Ai4EComponentLib.IncompressiblePipe.Sink_P-Tuple{}","page":"IncompressiblePipeAPI","title":"Ai4EComponentLib.IncompressiblePipe.Sink_P","text":"Sink_P(; name, p)\n\n\nComponent: Sink_P\n\nSink_P can be defined as a source(where fluids are from) or sink(where fluid are going to).\n\nConnectors:\n\nport: port of sink\n\nArguments:\n\np: [Pa] The pressure of sink, default: 101325 (standard atmospheric pressure)\n\n\n\n\n\n","category":"method"},{"location":"API/IncompressiblePipe/#Ai4EComponentLib.IncompressiblePipe.Source_P-Tuple{}","page":"IncompressiblePipeAPI","title":"Ai4EComponentLib.IncompressiblePipe.Source_P","text":"Source_P(; name, D, z, ρ, p, K_inlet)\n\n\nComponent: Source_P(source with inlet pressure losses)\n\nParameters:\n\nD: [m] Diameter of pipe\nK_inlet: Local resistance loss coefficient of Inlet port, default: 0.5\n\nConnectors:\n\nport: port of source\n\nArguments:\n\nz: [m] The height of source\nρ: [m³/kg] The density of fluid\np: [Pa] The pressure of source, default: 101325 (standard atmospheric pressure)\n\n\n\n\n\n","category":"method"},{"location":"API/IncompressiblePipe/#Ai4EComponentLib.IncompressiblePipe._NodeEnergy-Tuple{Any, Any, Any}","page":"IncompressiblePipeAPI","title":"Ai4EComponentLib.IncompressiblePipe._NodeEnergy","text":"_NodeEnergy(node, D, ρ) -> Any\n\n\nTo get the energy at the port.\n\nThe governing equation of incompressible pipe network is Bernoulli Equation: \n\nfracprho g +fracv^22g + z=mathrmconstant\n\nIn volume flow form:\n\nfracprho g +frac8q^2pi^2D^4g + z=mathrmconstant\n\nD: [m] Diameter of pipe\nρ: [`m³/kg] The density of fluid passing the port\n\n\n\n\n\n","category":"method"},{"location":"API/IncompressiblePipe/#Ai4EComponentLib.IncompressiblePipe._h_f-NTuple{4, Any}","page":"IncompressiblePipeAPI","title":"Ai4EComponentLib.IncompressiblePipe._h_f","text":"_h_f(node, f, L, D) -> Any\n\n\nTo get the loss of resistance along the pipe(between two ports).\n\nIn volume flow form:\n\nh_f = ffracLD frac8q^2pi^2D^4g\n\n\n\n\n\n","category":"method"},{"location":"API/IncompressiblePipe/#Ai4EComponentLib.IncompressiblePipe._h_m-Tuple{Any, Any, Any}","page":"IncompressiblePipeAPI","title":"Ai4EComponentLib.IncompressiblePipe._h_m","text":"_h_m(node, K, D) -> Any\n\n\nTo get the local resistance loss the components.\n\nIn volume flow form:\n\nh_m = K frac8q^2pi^2D^4g\n\n\n\n\n\n","category":"method"},{"location":"API/CompressedAirSystem/#CompressedAirSystemAPI","page":"CompressedAirSystemAPI","title":"CompressedAirSystemAPI","text":"","category":"section"},{"location":"API/CompressedAirSystem/","page":"CompressedAirSystemAPI","title":"CompressedAirSystemAPI","text":"CurrentModule = Ai4EComponentLib.CompressedAirSystem","category":"page"},{"location":"API/CompressedAirSystem/","page":"CompressedAirSystemAPI","title":"CompressedAirSystemAPI","text":"Pages = [\"CompressedAirSystem.md\"]","category":"page"},{"location":"API/CompressedAirSystem/#Index","page":"CompressedAirSystemAPI","title":"Index","text":"","category":"section"},{"location":"API/CompressedAirSystem/","page":"CompressedAirSystemAPI","title":"CompressedAirSystemAPI","text":"Pages = [\"CompressedAirSystem.md\"]","category":"page"},{"location":"API/CompressedAirSystem/#CompressedAirSystem-Components","page":"CompressedAirSystemAPI","title":"CompressedAirSystem Components","text":"","category":"section"},{"location":"API/CompressedAirSystem/","page":"CompressedAirSystemAPI","title":"CompressedAirSystemAPI","text":"Modules = [CompressedAirSystem]","category":"page"},{"location":"API/CompressedAirSystem/#Ai4EComponentLib.CompressedAirSystem.AirStorageTank-Tuple{}","page":"CompressedAirSystemAPI","title":"Ai4EComponentLib.CompressedAirSystem.AirStorageTank","text":"AirStorageTank(; name, V, T, p0)\n\n\nComponent: an air storage tank\n\nAssumptions\n\nIgnore the pressure drop between inlet and outlet. The pressure everywhere inside tank equal to the inlet and outlet.\nTemperature of the tank doesn't change. Default to 300K.\nIdeal gas law is avliable.\n\nFunction of this component:\n\nfracmathrmdpmathrmdt=fracR_gTVleft (q_min+q_minright)\n\nParameters:\n\nR_g: [J⋅kg^{-1}⋅K^{-1}] Ideal gas constant. For air is 287.11, which is unchangeable in this component.\nV: [m^3] Volume of the tank.\nT: [K] Temperature of the gas inside the tank.\n\nConnectors:\n\nin: Inlet of tank\nout: Outlet of tank\n\nArguments:\n\np_0: [Pa] Initial value of tank pressure.\n\n\n\n\n\n","category":"method"},{"location":"API/CompressedAirSystem/#Ai4EComponentLib.CompressedAirSystem.FlowPort-Tuple{}","page":"CompressedAirSystemAPI","title":"Ai4EComponentLib.CompressedAirSystem.FlowPort","text":"FlowPort(; name, T)\n\n\nA pipe port(inlet or outlet) in an pipe network.\n\nStates:\n\np(t): [Pa] The pressure at this port\nqm(t): [kg/s] The mass flow rate passing through this port\n\nParameters:\n\nT: [K] The temperature of port. It'll be used in future develop.\n\n\n\n\n\n","category":"method"},{"location":"API/CompressedAirSystem/#Ai4EComponentLib.CompressedAirSystem.FlowSource-Tuple{}","page":"CompressedAirSystemAPI","title":"Ai4EComponentLib.CompressedAirSystem.FlowSource","text":"FlowSource(; name, qm, T)\n\n\nComponent: a source (or sink) with constant mass flow rate\n\nParameters:\n\nqm: [kg⋅s^{-1}] The mass flow rate this source supply or this sink absorb.\nT: [K] Temperature of the gas flow out (or into) this source (or sink). Default to 300K.\n\nConnectors:\n\nport: a FlowPort type subcomponent.\n\n\n\n\n\n","category":"method"},{"location":"API/CompressedAirSystem/#Ai4EComponentLib.CompressedAirSystem.PressureSource-Tuple{}","page":"CompressedAirSystemAPI","title":"Ai4EComponentLib.CompressedAirSystem.PressureSource","text":"PressureSource(; name, p, T)\n\n\nComponent: a source (or sink) with constant pressure\n\nParameters:\n\np: [Pa] The pressure this source (or sink) supply.\nT: [K] Temperature of the gas flow out (or into) this source (or sink). Default to 300K.\n\nConnectors:\n\nport: a FlowPort type subcomponent.\n\n\n\n\n\n","category":"method"},{"location":"API/CompressedAirSystem/#Ai4EComponentLib.CompressedAirSystem.SimplePipe-Tuple{}","page":"CompressedAirSystemAPI","title":"Ai4EComponentLib.CompressedAirSystem.SimplePipe","text":"SimplePipe(; name, R, T)\n\n\nComponent: a single pipe or a pipe network with only one inlet and one outlet in steady state.\n\nAssumptions\n\nThe density or pressure of the air doesn't change too fast.\nTemperature of the pipe (pipe network) doesn't change. Default to 300K.\nIdeal gas law is avliable.\n\nFunction of this component:\n\np_in-p_out=Rq_mq_m\n\nParameters:\n\nR: [kg^{-1}⋅m^{-1}] Resistance coefficient of a pipe (or pipe network)\nT: [K] Approximate temperature of the gas inside pipe.\n\nConnectors:\n\nin: Inlet of tank\nout: Outlet of tank\n\n\n\n\n\n","category":"method"},{"location":"API/CompressedAirSystem/#Ai4EComponentLib.CompressedAirSystem.TransitionPipe-Tuple{}","page":"CompressedAirSystemAPI","title":"Ai4EComponentLib.CompressedAirSystem.TransitionPipe","text":"TransitionPipe(; name, λ1, λ2, λ3, n, f, D, L, T, pins, pouts)\n\n\nComponent: a single straight pipe in transition state.\n\nAssumptions\n\nIgnore the difference in parameters on the same cross section. The flow inside pipe can be treated an 1-D flow.\nTemperature of the pipe (pipe network) doesn't change. Default to 300K.\nIdeal gas law is avliable.\n\nFunction of this component:\n\nfracpartial ppartial t=-fracR_g TA fracpartial q_mpartial x \nfracpartial q_mpartial t=left(fracR_g TA fracq_m^2p^2-Aright) fracpartial ppartial x-2 fracR_g TA fracq_mp fracpartial q_mpartial x-fracf2 D fracR_g TA fracq_mleftq_mrightp\n\nParameters:\n\nParameters:\n\nR_g: [J⋅kg^{-1}⋅K^{-1}] Ideal gas constant. For air is 287.11, which is unchangeable in this component.\nT: [K] Temperature of the air.\nf: Friction factor\nD: [m] Diameter of the pipe\nL: [m] Length of the pipe\n\nConnectors:\n\nin: Inlet of tank\nout: Outlet of tank\n\nArguments:\n\nλ1, λ2 and λ3: Three coefficient for other use like parameter estimation. They have no influence on simulation, and they are default to 1.\nn: The number of control volumes that the pipe be divided into equally.\npins and pouts: [Pa] The initial pressure at the inlet and outlet of pipe. Simulation will start from the steady state of pipe at the boundary pins and pouts.\n\n\n\n\n\n","category":"method"},{"location":"#Ai4EComponentLib.jl","page":"Home","title":"Ai4EComponentLib.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Ai4EComponentLib.jl is a Component library based on the ModelingToolkit acasual modeling system.","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Import Ai4EComponentLib.jl in the standard way:","category":"page"},{"location":"","page":"Home","title":"Home","text":"import Pkg; Pkg.add(\"Ai4EComponentLib\")","category":"page"},{"location":"#Citation","page":"Home","title":"Citation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"If Ai4EComponentLib is useful, please cite the this paper:","category":"page"},{"location":"","page":"Home","title":"Home","text":"@article{yang2022ai4ecomponentlib,\n  title={Ai4EComponentLib.jl: A Component-base Model Library in Julia},\n  author={Yuebao Yang, Jingyi Yang, Mingtao Li},\n  journal={arXiv preprint arXiv:2208.11352},\n  year={2022},\n  primaryClass={cs.SE}\n}","category":"page"},{"location":"#Tutorials","page":"Home","title":"Tutorials","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Pages = map(file -> joinpath(\"tutorials\", file), readdir(\"tutorials\"))","category":"page"},{"location":"#Libraries","page":"Home","title":"Libraries","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Pages = map(file -> joinpath(\"API\", file), readdir(\"API\"))","category":"page"},{"location":"API/ThermodynamicCycle/#ThermodynamicCycleAPI","page":"ThermodynamicCycleAPI","title":"ThermodynamicCycleAPI","text":"","category":"section"},{"location":"API/ThermodynamicCycle/","page":"ThermodynamicCycleAPI","title":"ThermodynamicCycleAPI","text":"CurrentModule = Ai4EComponentLib.ThermodynamicCycle","category":"page"},{"location":"API/ThermodynamicCycle/","page":"ThermodynamicCycleAPI","title":"ThermodynamicCycleAPI","text":"Pages = [\"ThermodynamicCycle.md\"]","category":"page"},{"location":"API/ThermodynamicCycle/#Index","page":"ThermodynamicCycleAPI","title":"Index","text":"","category":"section"},{"location":"API/ThermodynamicCycle/","page":"ThermodynamicCycleAPI","title":"ThermodynamicCycleAPI","text":"Pages = [\"ThermodynamicCycle.md\"]","category":"page"},{"location":"API/ThermodynamicCycle/#ThermodynamicCycle-Components","page":"ThermodynamicCycleAPI","title":"ThermodynamicCycle Components","text":"","category":"section"},{"location":"API/ThermodynamicCycle/","page":"ThermodynamicCycleAPI","title":"ThermodynamicCycleAPI","text":"Modules = [ThermodynamicCycle]","category":"page"},{"location":"API/ThermodynamicCycle/#Ai4EComponentLib.ThermodynamicCycle.ArbitraryProcess-Tuple{}","page":"ThermodynamicCycleAPI","title":"Ai4EComponentLib.ThermodynamicCycle.ArbitraryProcess","text":"ArbitraryProcess(; name, inter_state, process, fluid)\n\n\nComponent: ArbitraryProcess\n\nOnce the two states in a node are determined, the remaining 3 states can be obtained from these two known states.  In ArbitraryProcess, 2 states need to be determined. \n\nConnectors:\n\nin: Inlet of process\nout: Outlet of process\n\nArguments:\n\ninter_state: One state to be determined. There are 7 options:\n\"P\": Giving state pressure\n\"H\": Giving state enthalpy \n\"T\": Giving state temperature\n\"D\": Giving state density\n\"S\": Giving state entropy\n\"Q_0\": Giving saturated liquid(0 is value of the state, automatically passed into ODESystem)\n\"Q_1\": Giving saturated vapor(1 is value of the state, automatically passed into ODESystem)\nprocess: Another state to be determined. There are 5 options:\n\"P\": Giving state pressure\n\"H\": Giving state enthalpy \n\"T\": Giving state temperature\n\"D\": Giving state density\n\"S\": Giving state entropy\nfluid: The fluid passing throught the component, default: \"Water\"\n\n\n\n\n\n","category":"method"},{"location":"API/ThermodynamicCycle/#Ai4EComponentLib.ThermodynamicCycle.DThermalStates-Tuple{}","page":"ThermodynamicCycleAPI","title":"Ai4EComponentLib.ThermodynamicCycle.DThermalStates","text":"DThermalStates(; name, state, value, u0)\n\n\nComponent: DThermalStates\n\nThe DThermalStates make the value of state changes over time. \n\nfracpartial Statepartial t = ConstantValue\n\nConnectors:\n\nnode: A node passing value\n\nArguments:\n\nstate: State that determined in process. There are 5 options:\n\"P\": Giving state pressure\n\"H\": Giving state enthalpy \n\"T\": Giving state temperature\n\"D\": Giving state density\n\"S\": Giving state entropy\nvalue: The value of ConstantValue in above formula:\nu0: The initial value of the state\n\n\n\n\n\n","category":"method"},{"location":"API/ThermodynamicCycle/#Ai4EComponentLib.ThermodynamicCycle.IsentropicProcess-Tuple{}","page":"ThermodynamicCycleAPI","title":"Ai4EComponentLib.ThermodynamicCycle.IsentropicProcess","text":"IsentropicProcess(; name, inter_state, fluid)\n\n\nComponent: IsentropicProcess\n\nThe Entropy is constant during the process. \n\nOnce the two states in a node are determined, the remaining 3 states can be obtained from these two known states. In IsentropicProcess, entropy are the same from inlet to outlet. So another state still needed. \n\nConnectors:\n\nin: Inlet of process\nout: Outlet of process\n\nArguments:\n\ninter_state: Another state need to be determined. There are 7 options:\n\"P\": Giving state pressure\n\"H\": Giving state enthalpy \n\"T\": Giving state temperature\n\"D\": Giving state density\n\"S\": Giving state entropy\n\"Q_0\": Giving saturated liquid(0 is value of the state, automatically passed into ODESystem)\n\"Q_1\": Giving saturated vapor(1 is value of the state, automatically passed into ODESystem)\nfluid: The fluid passing throught the component, default: \"Water\"\n\n\n\n\n\n","category":"method"},{"location":"API/ThermodynamicCycle/#Ai4EComponentLib.ThermodynamicCycle.IsobaricProcess-Tuple{}","page":"ThermodynamicCycleAPI","title":"Ai4EComponentLib.ThermodynamicCycle.IsobaricProcess","text":"IsobaricProcess(; name, inter_state, fluid)\n\n\nComponent: IsobaricProcess\n\nThe Pressure is constant during the process. \n\nOnce the two states in a node are determined, the remaining 3 states can be obtained from these two known states. In IsobaricProcess, pressure are the same from inlet to outlet. So another state still needed. \n\nConnectors:\n\nin: Inlet of process\nout: Outlet of process\n\nArguments:\n\ninter_state: Another state need to be determined. There are 7 options:\n\"P\": Giving state pressure\n\"H\": Giving state enthalpy \n\"T\": Giving state temperature\n\"D\": Giving state density\n\"S\": Giving state entropy\n\"Q_0\": Giving saturated liquid(0 is value of the state, automatically passed into ODESystem)\n\"Q_1\": Giving saturated vapor(1 is value of the state, automatically passed into ODESystem)\nfluid: The fluid passing throught the component, default: \"Water\"\n\n\n\n\n\n","category":"method"},{"location":"API/ThermodynamicCycle/#Ai4EComponentLib.ThermodynamicCycle.IsochoricProcess-Tuple{}","page":"ThermodynamicCycleAPI","title":"Ai4EComponentLib.ThermodynamicCycle.IsochoricProcess","text":"IsochoricProcess(; name, inter_state, fluid)\n\n\nComponent: IsochoricProcess\n\nThe Density is constant during the process. \n\nOnce the two states in a node are determined, the remaining 3 states can be obtained from these two known states. In IsochoricProcess, density are the same from inlet to outlet. So another state still needed. \n\nConnectors:\n\nin: Inlet of process\nout: Outlet of process\n\nArguments:\n\ninter_state: Another state need to be determined. There are 7 options:\n\"P\": Giving state pressure\n\"H\": Giving state enthalpy \n\"T\": Giving state temperature\n\"D\": Giving state density\n\"S\": Giving state entropy\n\"Q_0\": Giving saturated liquid(0 is value of the state, automatically passed into ODESystem)\n\"Q_1\": Giving saturated vapor(1 is value of the state, automatically passed into ODESystem)\nfluid: The fluid passing throught the component, default: \"Water\"\n\n\n\n\n\n","category":"method"},{"location":"API/ThermodynamicCycle/#Ai4EComponentLib.ThermodynamicCycle.IsoenthalpyProcess-Tuple{}","page":"ThermodynamicCycleAPI","title":"Ai4EComponentLib.ThermodynamicCycle.IsoenthalpyProcess","text":"IsoenthalpyProcess(; name, inter_state, fluid)\n\n\nComponent: IsoenthalpyProcess\n\nThe Enthalpy is constant during the process. \n\nOnce the two states in a node are determined, the remaining 3 states can be obtained from these two known states. In IsoenthalpyProcess, enthalpy are the same from inlet to outlet. So another state still needed. \n\nConnectors:\n\nin: Inlet of process\nout: Outlet of process\n\nArguments:\n\ninter_state: Another state need to be determined. There are 7 options:\n\"P\": Giving state pressure\n\"H\": Giving state enthalpy \n\"T\": Giving state temperature\n\"D\": Giving state density\n\"S\": Giving state entropy\n\"Q_0\": Giving saturated liquid(0 is value of the state, automatically passed into ODESystem)\n\"Q_1\": Giving saturated vapor(1 is value of the state, automatically passed into ODESystem)\nfluid: The fluid passing throught the component, default: \"Water\"\n\n\n\n\n\n","category":"method"},{"location":"API/ThermodynamicCycle/#Ai4EComponentLib.ThermodynamicCycle.IsothermalProcess-Tuple{}","page":"ThermodynamicCycleAPI","title":"Ai4EComponentLib.ThermodynamicCycle.IsothermalProcess","text":"IsothermalProcess(; name, inter_state, fluid)\n\n\nComponent: IsothermalProcess\n\nThe Temperature is constant during the process. \n\nOnce the two states in a node are determined, the remaining 3 states can be obtained from these two known states. In IsothermalProcess, temperature are the same from inlet to outlet. So another state still needed. \n\nConnectors:\n\nin: Inlet of process\nout: Outlet of process\n\nArguments:\n\ninter_state: Another state need to be determined. There are 7 options:\n\"P\": Giving state pressure\n\"H\": Giving state enthalpy \n\"T\": Giving state temperature\n\"D\": Giving state density\n\"S\": Giving state entropy\n\"Q_0\": Giving saturated liquid(0 is value of the state, automatically passed into ODESystem)\n\"Q_1\": Giving saturated vapor(1 is value of the state, automatically passed into ODESystem)\nfluid: The fluid passing throught the component, default: \"Water\"\n\n\n\n\n\n","category":"method"},{"location":"API/ThermodynamicCycle/#Ai4EComponentLib.ThermodynamicCycle.StreamNode-Tuple{}","page":"ThermodynamicCycleAPI","title":"Ai4EComponentLib.ThermodynamicCycle.StreamNode","text":"StreamNode(; name)\n\n\nA stream node(inlet or outlet) in a thermodynamic cycle system.  There are five states in a node: pressure, enthalpy, temperature, density, entropy.\n\nStates:\n\np(t): [Pa] The pressure at this node\nh(t): [J/kg] The enthalpy at this node\nT(t): [K] The temperature at this node\nρ(t): [kg/m³] The density at this node\ns(t): [J/(kg·K)] The entropy at this node\n\n\n\n\n\n","category":"method"},{"location":"API/ThermodynamicCycle/#Ai4EComponentLib.ThermodynamicCycle.StreamPort-Tuple{}","page":"ThermodynamicCycleAPI","title":"Ai4EComponentLib.ThermodynamicCycle.StreamPort","text":"StreamPort(; name)\n\n\nComponent with two stream nodes in and out and some variables between in and out.\n\nStates:\n\nΔp(t): [Pa] The pressure at this node\nΔh(t): [J/kg] The enthalpy at this node\nΔT(t): [K] The temperature at this node\nΔρ(t): [kg/m³] The density at this node\nΔs(t): [J/(kg·K)] The entropy at this node\n\nConnectors:\n\nin inlet of components\nout outlet of components\n\n\n\n\n\n","category":"method"},{"location":"API/ThermodynamicCycle/#Ai4EComponentLib.ThermodynamicCycle.ThermalStates-Tuple{}","page":"ThermodynamicCycleAPI","title":"Ai4EComponentLib.ThermodynamicCycle.ThermalStates","text":"ThermalStates(; name, state, value)\n\n\nComponent: ThermalStates\n\nThe ThermalStates passed a fixed value of the state that determined in process. \n\nConnectors:\n\nnode: A node passing value\n\nArguments:\n\nstate: State that determined in process. There are 5 options:\n\"P\": Giving state pressure\n\"H\": Giving state enthalpy \n\"T\": Giving state temperature\n\"D\": Giving state density\n\"S\": Giving state entropy\nvalue: The value of the state\n\n\n\n\n\n","category":"method"},{"location":"tutorials/Electrochemistry/#Electrochemistry-System","page":"Electrochemistry System","title":"Electrochemistry System","text":"","category":"section"},{"location":"tutorials/Electrochemistry/#PhotovoltaicCell","page":"Electrochemistry System","title":"PhotovoltaicCell","text":"","category":"section"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"To use PhotovoltaicCell(), we design a resistor called vari_Resistor whose resistance value changes with time. Then we can see the I-U curve of PhotovoltaicCell with different loads.","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"Equivalent circuit diagram of PhotovoltaicCell():","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"(Image: 图 1)  ","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"using ModelingToolkit, DifferentialEquations\nusing Ai4EComponentLib.Electrochemistry\nusing Plots\n\nfunction vari_Resistor(; name)\n    @named oneport = OnePort()\n    @unpack v, i = oneport\n    eqs = [\n        v ~ i * t\n    ]\n    extend(ODESystem(eqs, t, [], []; name=name), oneport)\nend\n\n@named Pv = PhotovoltaicCell()\n@named R = vari_Resistor()\n@named ground = Ground()\n\neqs = [\n    connect(Pv.p, R.p)\n    connect(Pv.n, R.n, ground.g)\n]\n\n@named OdeFun = ODESystem(eqs, t)\n@named model = compose(OdeFun, [Pv, R, ground])\nsys = structural_simplify(model)\nprob = ODEProblem(sys, [], (0.0, 300.0))\nsol = solve(prob)","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"plot(sol[R.p.v], sol[R.p.i], color = \"red\")\nsavefig(\"example_1.svg\"); nothing # hide","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"(Image: 图一)","category":"page"},{"location":"tutorials/Electrochemistry/#PEMElectrolyzer","page":"Electrochemistry System","title":"PEMElectrolyzer","text":"","category":"section"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"Using above PhotovoltaicCell to drive Electrolyzer, then we build a PVEL system. In default paraments, we can know how the system works.","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"Equivalent circuit diagram of PEMElectrolyzer():","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"(Image: 图 2)  ","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"using ModelingToolkit, DifferentialEquations\nusing Ai4EComponentLib.Electrochemistry\n\n@named Pv = PhotovoltaicCell()\n@named El = PEMElectrolyzer()\n@named ground = Ground()\neqs = [\n    connect(Pv.p, El.p)\n    connect(Pv.n, El.n, ground.g)\n]\n@named OdeFun = ODESystem(eqs, t)\n@named model = compose(OdeFun, [Pv, El, ground])\nsys = structural_simplify(model)\nu0 = [\n    El.m_H_2 => 0.0\n    El.∂_m_H_2 => 0.0\n]\nprob = ODEProblem(sys, u0, (0.0, 30.0))\nsol = solve(prob)","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"Get states of system by states()","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"states(sys)","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"Check voltage, current and mass yield of electrolyzer. The working point (El.v,El.i) can be found in I-U curve above.","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"sol[El.v]","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"sol[El.i]","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"sol[El.m_H_2]","category":"page"},{"location":"tutorials/Electrochemistry/#Lithium-battery","page":"Electrochemistry System","title":"Lithium battery","text":"","category":"section"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"using ModelingToolkit, DifferentialEquations\nusing Ai4EComponentLib.Electrochemistry\nusing Plots\n\n@named batter = Lithium_ion_batteries()\n@named Pv = PhotovoltaicCell()\n@named ground = Ground()\n\neqs = [\n    connect(batter.p, Pv.p)\n    connect(batter.n, Pv.n, ground.g)\n]\n\n@named OdeFun = ODESystem(eqs, t)\n@named model = compose(OdeFun, [Pv, batter, ground])\nsys = structural_simplify(model)\nu0 = [\n    batter.v_f => 0.5\n    batter.v_s => 0.5\n    batter.v_soc => 0.5\n]\nprob = ODEProblem(sys, u0, (0.0, 30.0))\nsol = solve(prob)\nplot(sol.t, sol[batter.v_s], color = \"red\")\nsavefig(\"example_2.svg\")","category":"page"},{"location":"tutorials/Electrochemistry/","page":"Electrochemistry System","title":"Electrochemistry System","text":"(Image: fig2)","category":"page"}]
}
